<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/3e893105a3.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"> -->

    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>

    <link
      href="/css/admin.css"
      rel="stylesheet"
    />
    <title>Admin Dashboard</title>
  </head>
  <body>
    <div class="side-nav-container short">
           <nav >
               <button class="toggler"><i class="fa-solid fa-bars"></i></button>

               <ul class="nav-items">
                <a href="/admin" style="text-decoration: none;color: white;"><li  class="nav-item"><i class="fa-solid fa-user"></i><span class="hide">Dashboard</span></li></a>
                <a href="/landingpage" style="text-decoration: none;color: white;"><li  class="nav-item"><i class="fa-solid fa-house"></i><span class="hide">Home</span></li></a>
                  <a href="/admin/all_experts" style="text-decoration: none;color: white;"><li  class="nav-item"><i class="fa-solid fa-user-tie"></i><span class="hide">Experts</span></li></a>
                  <a href="/admin/all_articles" style="text-decoration: none;color: white;"><li class="nav-item"><i class="fa-sharp fa-solid fa-newspaper"></i><span class="hide">Articles</span></li></a>
                  <a href="/askquery?is_solved=true" style="text-decoration: none;color: white;"> <li class="nav-item"><i class="fa-solid fa-message"></i><span class="hide">Queries</span></li></a>
               </ul>
           </nav>
    </div>
    <div class="right">
        <h1 class="admin-panel">Admin Dashboard</h1>

        <div class="stats">

            <div class="users_stats">
                <div class="symbol">
                    <i class="fa-solid fa-user"></i>
                    <span data-purecounter-start="0"
        data-purecounter-end="2793" data-purecounter-duration="1" class="user-cnt purecounter">2793</span>
                    <h2>Users Registered</h2>
                </div>
            </div>

            <div class="experts_stats">
                <div class="symbol">
                    <i class="fa-solid fa-user-tie"></i>
                    <span data-purecounter-start="0"
        data-purecounter-end="999" data-purecounter-duration="1" class="expert-cnt purecounter">999</span>
                    <h2>Experts Registered</h2>
                </div>
            </div>
            <div class="articles_stats">
                <div class="symbol">
                    <i class="fa-sharp fa-solid fa-newspaper"></i>
                    <span data-purecounter-start="0"
        data-purecounter-end="<%=articles.length %>" data-purecounter-duration="1" class="blogs-cnt purecounter"><%=articles.length %></span>
                    <h2>Blogs Posted</h2>
                </div>
            </div>
        </div>

        <div class="recent-activities">
               <div class="recently-joined">
                 <h2>Recently Joined</h2>
                    <div class="recent-items">
                      <h3 style="font-size: 30px;">Experts</h3>
                      <% for(let i=0;i<2;i++) {%>
                        <div class="recent-item">
                            <div class="name-container">
                                <div class="user-name">
                                     <%=expertdata[i].firstname %>  <%=expertdata[i].lastname %>
                                </div>
                                <span class="role_tag">
                                    Expert
                                </span>
                            </div>

                            <div class="sub-details">
                                <div class="email"><%= expertdata[i].email %></div>
                                <div class="phone"><%= expertdata[i].phone %></div>
                            </div>
                        </div>
                        <% } %>
                        <h3 style="font-size: 30px;text-align: left;">Users</h3>

                        <% for(let i=0;i<2;i++) {%>
                            <div class="recent-item">
                                <div class="name-container">
                                    <div class="user-name">
                                         <%=userdata[i].firstname %>  <%=userdata[i].lastname %>
                                    </div>
                                    <span class="role_tag">
                                       User
                                    </span>
                                </div>

                                <div class="sub-details">
                                    <div class="email"><%= userdata[i].email %></div>
                                    <div class="phone"><%= userdata[i].phone %></div>
                                </div>
                            </div>
                            <% } %>

                    </div>
               </div>

               <div class="recently-posted">
                 <h2>Recently Posted</h2>
                <div class="recent-items">
                    <% for(let i=0;i<5;i++) {%>
                    <div class="recent-item">
                        <div class="title-container">
                            <div class="blog-title"><%=articles[i].title.substring(0,70) %></div>
                            <span class="topic-tag"><%=articles[i].topic%></span>
                        </div>


                        <div class="sub-details">
                        <div class="blog-time"><%= articles[i].date_of_publish.getDate() %>/<%= articles[i].date_of_publish.getMonth()+1 %>/<%= articles[i].date_of_publish.getFullYear() %>   <%= articles[i].date_of_publish.getHours() %>:<%= articles[i].date_of_publish.getMinutes() %>:<%= articles[i].date_of_publish.getSeconds() %></div>
                        <div class="blog-author"><%=articles[i].author_name%></div>
                        </div>
                    </div>
                 <%} %>


                </div>
               </div>
        </div>

    </div>
  </body>

<script>
    new PureCounter();
</script>

  <script src="/js/admin.js"></script>
</html>